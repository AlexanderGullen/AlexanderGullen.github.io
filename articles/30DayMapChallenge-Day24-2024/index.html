<!DOCTYPE html>
<html lang="en">
  <head>
	<meta charset="utf-8"/>
	<title>30DayMapChallenge - Day 24</title>
    	<meta name="viewport" content="width=device-width, initial-scale=1" />
    	<link rel="stylesheet" href="/style.css" />


	<!-- Open Graph Protocol Metadata -->
	<meta property="og:title" content="Day 24 of the 2024 30DayMapChallenge"/>
	<meta property="og:site_name" content="Alexander's Articles"/>
	<meta property="og:type" content="article"/>
	<meta property="og:locale" content="en_US"/>
	<link rel="canonical" href="https://alexmgullen.ca/articles/30DayMapChallenge-Day19-2024/index.html"/>
	<meta property="og:url" content="https://alexmgullen.ca/articles/30DayMapChallenge-Day14-2024/index.html"/>
	<meta property="og:image" content="https://alexmgullen.ca/articles/30DayMapChallenge-Day14-2024/ogp-header.png"/>
	<meta property="og:image:alt" content=""/>
	<meta property="og:image:width" content="1200"/>
	<meta property="og:image:height" content="762"/>
	<meta property="og:image:type" content="image/jpg"/>
	<meta property="article:published_time" contents="2024-24-11T01:00:00Z"/>
	<meta property="article:author" content="https://alexmgullen.ca"/>
	<meta property="article:section" content="Top"/>
	<meta property="article:tag" content="Mapping"/>

	<link rel="icon" href="/icons/me.ico" type="image/x-icon"/>
	<script src="/libs/d3.v7.min.js"></script>
	<script src="/libs/d3-tile/d3-tile.min.js"></script>
	<script src="/libs/turf.min.js"></script>
  </head>
  <body>
	<canvas
        id="background"
        alt="a dynamic background image for the website"
	height="1080"
	width="1920"
	>
      	</canvas>
	<a id="home-btn" href="/" alt="home">Home</a>
      	<p id="fps">0fps</p>
	<div id="hero">
		<div id="content">
		<h1 hidden="true"></h1>
		<h2>November 24th 2024</h2>
		<h2 id="subtitle" hidden="true">[Development In Progress]</h2>

		<p>To familiarize myself a little bit with d3 centroids and to fit with today's "Only circular shapes" theme, I decided to make a map composed only of centroids</p>


		<p>A centroid is an approximation of the center of a geographic area, there is a great deal of nuance to this process since the awkward shape of some geographies can produce odd results, florida is a common example of "difficult" terrain for calcluating centroids: </p>
		<svg id="florida"></svg>
		<script type="module">
			const florida = { "type": "Feature", "properties": { "id": "12", "name": "Florida" }, "geometry": { "type": "MultiPolygon", "coordinates": [ [ [ [ -80.750434477544772, 24.857673365823651 ], [ -80.700184361643608, 24.909216947259466 ], [ -80.682237891678909, 24.880867977469769 ], [ -80.732488007580073, 24.843069351083507 ], [ -80.750434477544772, 24.857673365823651 ] ] ], [ [ [ -80.850934709347086, 24.80355260531605 ], [ -80.818631063410635, 24.837055933249331 ], [ -80.779148829488292, 24.840492172011714 ], [ -80.797095299452991, 24.812143202222018 ], [ -80.850934709347086, 24.80355260531605 ] ] ], [ [ [ -81.123721052810524, 24.707337919969198 ], [ -80.937077765177648, 24.784653292122918 ], [ -80.915542001220004, 24.758881501405007 ], [ -81.077060230902305, 24.690156726157255 ], [ -81.123721052810524, 24.707337919969198 ] ] ], [ [ [ -81.812865499454986, 24.56902930978309 ], [ -81.744668913589138, 24.660089636986363 ], [ -81.672883033730329, 24.699606382753821 ], [ -81.583150683906837, 24.736545949449493 ], [ -81.572382801928015, 24.756304322333222 ], [ -81.44316821818218, 24.813002261912615 ], [ -81.306775046450468, 24.755445262642624 ], [ -81.292417870478701, 24.710774158731581 ], [ -81.242167754577537, 24.673834592035917 ], [ -81.256524930549304, 24.664384935439351 ], [ -81.400096690266906, 24.623150070290698 ], [ -81.410864572245714, 24.646344681936817 ], [ -81.507775510055097, 24.64204938348383 ], [ -81.518543392033919, 24.621431950909503 ], [ -81.683650915709151, 24.558720593495927 ], [ -81.812865499454986, 24.545834698136979 ], [ -81.812865499454986, 24.56902930978309 ] ] ], [ [ [ -82.013865963059629, 24.543257519065186 ], [ -81.873883497334973, 24.563874951639512 ], [ -81.90977643726437, 24.526935384943847 ], [ -81.970794435144342, 24.514908549275489 ], [ -82.017455257052561, 24.521781026800262 ], [ -82.013865963059629, 24.543257519065186 ] ] ], [ [ [ -82.164616310763108, 24.563015891948915 ], [ -82.143080546805464, 24.593082981119807 ], [ -82.100009018890191, 24.584492384213839 ], [ -82.117955488854889, 24.549270936899362 ], [ -82.164616310763108, 24.563015891948915 ] ] ], [ [ [ -82.265116542565423, 26.698638282772826 ], [ -82.247170072600724, 26.683175208342078 ], [ -82.178973486734861, 26.50191361362613 ], [ -82.150259134791341, 26.47785994228942 ], [ -82.089241136911369, 26.455524390333899 ], [ -82.064116078960794, 26.470128405074043 ], [ -82.013865963059629, 26.452088151571509 ], [ -82.064116078960794, 26.425457301163007 ], [ -82.096419724897245, 26.42459824147241 ], [ -82.171794898748985, 26.467551226002257 ], [ -82.19691995669956, 26.491604897338966 ], [ -82.243580778607779, 26.59039676175761 ], [ -82.265116542565423, 26.655685298242979 ], [ -82.265116542565423, 26.698638282772826 ] ] ], [ [ [ -82.932725225252256, 24.632599726887264 ], [ -82.878885815358146, 24.643767502865025 ], [ -82.864528639386393, 24.624009129981296 ], [ -82.936314519245187, 24.615418533075328 ], [ -82.932725225252256, 24.632599726887264 ] ] ], [ [ [ -84.669943517835179, 29.794689407684075 ], [ -84.565853992039919, 29.835065213142123 ], [ -84.565853992039919, 29.810152482114816 ], [ -84.62328269592696, 29.778367273562729 ], [ -84.662764929849288, 29.773212915419151 ], [ -84.669943517835179, 29.794689407684075 ] ] ], [ [ [ -85.003747859178588, 31.000809213282125 ], [ -84.982212095220945, 30.93294349772497 ], [ -84.942729861298616, 30.888272393813935 ], [ -84.935551273312726, 30.816970439494391 ], [ -84.914015509355096, 30.752540962699619 ], [ -84.863765393453932, 30.711306097550967 ], [ -84.375621410414098, 30.68982960528605 ], [ -83.438815678256773, 30.641722262612618 ], [ -82.699421115711161, 30.59791021839218 ], [ -82.214866426664258, 30.568702188911885 ], [ -82.232812896628957, 30.556675353243527 ], [ -82.22563430864308, 30.507708950879504 ], [ -82.200509250692505, 30.485373398923983 ], [ -82.211277132671327, 30.424380160891602 ], [ -82.171794898748985, 30.35909162440624 ], [ -82.038991021010204, 30.370259400384001 ], [ -82.038991021010204, 30.434688877178765 ], [ -82.017455257052561, 30.47506468263682 ], [ -82.006687375073753, 30.577292785817853 ], [ -82.049758902989026, 30.655467217662171 ], [ -82.035401727017273, 30.707010799097986 ], [ -82.038991021010204, 30.749104723937236 ], [ -82.010276669066684, 30.762849678986782 ], [ -82.024633845038451, 30.783467111561109 ], [ -81.981562317123164, 30.776594634036336 ], [ -81.949258671186712, 30.827279155781554 ], [ -81.895419261292616, 30.821265737947371 ], [ -81.870294203342027, 30.792916768157674 ], [ -81.809276205462055, 30.790339589085889 ], [ -81.744668913589138, 30.766285917749173 ], [ -81.719543855638548, 30.744809425484249 ], [ -81.601097153871535, 30.72848729136291 ], [ -81.540079155991563, 30.713024216932162 ], [ -81.489829040090399, 30.725910112291118 ], [ -81.44316821818218, 30.709587978169779 ], [ -81.428811042210413, 30.698420202192018 ], [ -81.44316821818218, 30.60134645715457 ], [ -81.432400336203358, 30.522312965619648 ], [ -81.446757512175125, 30.503413652426516 ], [ -81.410864572245714, 30.4819371601616 ], [ -81.396507396273961, 30.400326489554892 ], [ -81.392918102281016, 30.303252744517437 ], [ -81.3103643404434, 29.969078524875243 ], [ -81.263703518535181, 29.858259824788242 ], [ -81.263703518535181, 29.814447780567804 ], [ -81.163203286732866, 29.555011754007538 ], [ -81.048345878958784, 29.307602563115623 ], [ -80.944256353163524, 29.110877893968933 ], [ -80.71095224362243, 28.756945301443011 ], [ -80.574559071890718, 28.585133363323628 ], [ -80.560201895918951, 28.53101260281602 ], [ -80.524308955989554, 28.459710648496483 ], [ -80.588916247862471, 28.41074424613246 ], [ -80.603273423834239, 28.364355022840222 ], [ -80.60686271782717, 28.289616829758295 ], [ -80.588916247862471, 28.177939069980695 ], [ -80.567380483904842, 28.09546933968339 ], [ -80.509951780017801, 27.970905684546842 ], [ -80.384326490264897, 27.739818627776273 ], [ -80.330487080370801, 27.597214719137185 ], [ -80.312540610406103, 27.52505370512705 ], [ -80.294594140441404, 27.500140974099736 ], [ -80.255111906519062, 27.379872617416169 ], [ -80.19409390863909, 27.249295544445438 ], [ -80.161790262702624, 27.192597604866044 ], [ -80.14025449874498, 27.111845993949935 ], [ -80.093593676836761, 27.018208487674869 ], [ -80.032575678956789, 26.796571087500872 ], [ -80.03616497294972, 26.594692060210598 ], [ -80.061290030900309, 26.444356614356138 ], [ -80.079236500865008, 26.263954079330787 ], [ -80.09000438284383, 26.2321688707787 ], [ -80.11871873478735, 25.986477799267988 ], [ -80.11871873478735, 25.841296711557113 ], [ -80.129486616766158, 25.772571936309362 ], [ -80.154611674716747, 25.702988101371012 ], [ -80.154611674716747, 25.665189474984743 ], [ -80.176147438674377, 25.684947847868472 ], [ -80.165379556695569, 25.728759892088917 ], [ -80.183326026660268, 25.745941085900853 ], [ -80.240754730547309, 25.724464593635929 ], [ -80.276647670476706, 25.636840505195046 ], [ -80.298183434434335, 25.622236490454902 ], [ -80.301772728427281, 25.567256670256697 ], [ -80.330487080370801, 25.532894282632824 ], [ -80.337665668356678, 25.465887626766261 ], [ -80.319719198391979, 25.437538656976564 ], [ -80.326897786377856, 25.398021911209106 ], [ -80.305362022420226, 25.38427695615956 ], [ -80.334076374363747, 25.33874679255792 ], [ -80.362790726307267, 25.32757901658016 ], [ -80.366380020300198, 25.28548509174091 ], [ -80.291004846448459, 25.318988419674191 ], [ -80.201272496624966, 25.485645999649989 ], [ -80.176147438674377, 25.520867446964466 ], [ -80.176147438674377, 25.485645999649989 ], [ -80.204861790617898, 25.414344045330452 ], [ -80.326897786377856, 25.223632794017938 ], [ -80.359201432314322, 25.153189899388991 ], [ -80.448933782137814, 25.073297348163479 ], [ -80.570969777897773, 24.953888051170509 ], [ -80.657112833728334, 24.897190111591108 ], [ -80.667880715707156, 24.907498827878271 ], [ -80.545844719947198, 25.012304110131097 ], [ -80.495594604046033, 25.04666649775497 ], [ -80.470469546095458, 25.09219666135661 ], [ -80.459701664116636, 25.161780496294959 ], [ -80.441755194151938, 25.189270406394058 ], [ -80.463290958109582, 25.209028779277787 ], [ -80.495594604046033, 25.199579122681222 ], [ -80.520719661996623, 25.221914674636743 ], [ -80.542255425954252, 25.206451600205995 ], [ -80.664291421714211, 25.187552287012863 ], [ -80.714541537615375, 25.152330839698394 ], [ -80.746845183551827, 25.147176481554808 ], [ -80.811452475424758, 25.185834167631668 ], [ -80.876059767297676, 25.174666391653915 ], [ -80.901184825248251, 25.139444944339438 ], [ -80.998095763057634, 25.123981869908697 ], [ -81.08064952489525, 25.118827511765112 ], [ -81.141667522775222, 25.163498615676154 ], [ -81.170381874718743, 25.221914674636743 ], [ -81.163203286732866, 25.289780390193897 ], [ -81.141667522775222, 25.341323971629713 ], [ -81.120131758817578, 25.33874679255792 ], [ -81.127310346803469, 25.38084071739717 ], [ -81.170381874718743, 25.464169507385073 ], [ -81.209864108641085, 25.504545312843121 ], [ -81.202685520655209, 25.533753342323422 ], [ -81.231399872598729, 25.587015043140426 ], [ -81.270882106521057, 25.614504953239525 ], [ -81.288828576485756, 25.687525026940264 ], [ -81.3103643404434, 25.702988101371012 ], [ -81.349846574365742, 25.690102206012057 ], [ -81.382150220302194, 25.776867234762342 ], [ -81.468293276132755, 25.803498085170844 ], [ -81.4718825701257, 25.817243040220397 ], [ -81.54725774397744, 25.849887308463082 ], [ -81.622632917829179, 25.89713559144591 ], [ -81.662115151751522, 25.885967815468149 ], [ -81.690829503695028, 25.852464487534874 ], [ -81.748258207582069, 25.960706008550083 ], [ -81.802097617476178, 26.087846842758424 ], [ -81.820044087440877, 26.236464169231688 ], [ -81.845169145391452, 26.330101675506754 ], [ -81.870294203342027, 26.379068077870777 ], [ -81.970794435144342, 26.476141822908225 ], [ -82.010276669066684, 26.483873360123596 ], [ -82.013865963059629, 26.528544464034638 ], [ -82.056937490974903, 26.548302836918367 ], [ -82.056937490974903, 26.493323016720161 ], [ -82.107187606876067, 26.483873360123596 ], [ -82.110776900869013, 26.540571299702989 ], [ -82.139491252812519, 26.637645044740445 ], [ -82.182562780727807, 26.681457088960883 ], [ -82.171794898748985, 26.702074521535209 ], [ -82.125134076840766, 26.699497342463417 ], [ -82.0928304309043, 26.665994014530142 ], [ -82.053348196981972, 26.802584505335048 ], [ -82.060526784967848, 26.876463638726385 ], [ -82.089241136911369, 26.888490474394736 ], [ -82.089241136911369, 26.922852862018615 ], [ -82.060526784967848, 26.931443458924583 ], [ -82.074883960939601, 26.958074309333085 ], [ -82.117955488854889, 26.954638070570702 ], [ -82.135901958819588, 26.926289100781005 ], [ -82.17538419274193, 26.91683944418444 ], [ -82.14666984079841, 26.789698609976092 ], [ -82.178973486734861, 26.772517416164156 ], [ -82.25075936659367, 26.763067759567591 ], [ -82.268705836558368, 26.720114775037743 ], [ -82.268705836558368, 26.784544251832514 ], [ -82.290241600515998, 26.827497236362362 ], [ -82.351259598395984, 26.908248847278465 ], [ -82.444581242212422, 27.060302412514119 ], [ -82.476884888148874, 27.141054023430229 ], [ -82.545081474014737, 27.261322380113796 ], [ -82.64199241182412, 27.389322274012734 ], [ -82.69224252772527, 27.43742961668616 ], [ -82.706599703697037, 27.48725507874078 ], [ -82.742492643626434, 27.539657719867193 ], [ -82.706599703697037, 27.523335585745855 ], [ -82.703010409704092, 27.497563795027943 ], [ -82.649170999809996, 27.523335585745855 ], [ -82.613278059880599, 27.585187883468826 ], [ -82.570206531965312, 27.609241554805543 ], [ -82.523545710057093, 27.693429404484043 ], [ -82.476884888148874, 27.722637433964337 ], [ -82.484063476134764, 27.742395806848066 ], [ -82.4338133602336, 27.76473135880358 ], [ -82.394331126311258, 27.836892372813722 ], [ -82.412277596275956, 27.901321849608493 ], [ -82.491242064120641, 27.919362103111027 ], [ -82.473295594155942, 27.822288358073578 ], [ -82.552260062000613, 27.848060148791483 ], [ -82.530724298042983, 27.877268178271777 ], [ -82.534313592035915, 27.93310705816058 ], [ -82.552260062000613, 27.966610386093855 ], [ -82.688653233732339, 28.027603624126236 ], [ -82.685063939739393, 27.97176474423744 ], [ -82.724546173661736, 27.947711072900724 ], [ -82.685063939739393, 27.915925864348637 ], [ -82.627635235852352, 27.910771506205059 ], [ -82.58815300193001, 27.816274940239396 ], [ -82.624045941859421, 27.780194433234328 ], [ -82.624045941859421, 27.726932732417318 ], [ -82.638403117831174, 27.703738120771206 ], [ -82.713778291682914, 27.698583762627621 ], [ -82.724546173661736, 27.671093852528521 ], [ -82.699421115711161, 27.638449584285837 ], [ -82.731724761647612, 27.612677793567933 ], [ -82.74608193761938, 27.647040181191805 ], [ -82.738903349633489, 27.71834213551135 ], [ -82.789153465534653, 27.791362209212089 ], [ -82.821457111471105, 27.81369776116761 ], [ -82.850171463414625, 27.863523223222231 ], [ -82.828635699456996, 28.019872086910866 ], [ -82.846582169421694, 28.076570026490259 ], [ -82.860939345393447, 28.217455815748153 ], [ -82.828635699456996, 28.21831487543875 ], [ -82.828635699456996, 28.138422324213238 ], [ -82.814278523485228, 28.061966011750116 ], [ -82.781974877548777, 28.055952593915933 ], [ -82.79633205352053, 28.187388726577261 ], [ -82.764028407584078, 28.219173935129348 ], [ -82.760439113591133, 28.254395382443818 ], [ -82.731724761647612, 28.29219400883008 ], [ -82.731724761647612, 28.324838277072764 ], [ -82.706599703697037, 28.367791261602612 ], [ -82.706599703697037, 28.401294589535887 ], [ -82.674296057760571, 28.441670394993942 ], [ -82.67070676376764, 28.519844826838266 ], [ -82.652760293802942, 28.591146781157804 ], [ -82.674296057760571, 28.647844720737204 ], [ -82.667117469774695, 28.69595206341063 ], [ -82.713778291682914, 28.720864794437936 ], [ -82.699421115711161, 28.756945301443011 ], [ -82.731724761647612, 28.850582807718069 ], [ -82.688653233732339, 28.905562627916275 ], [ -82.764028407584078, 29.000059193881931 ], [ -82.753260525605256, 29.02669004429044 ], [ -82.781974877548777, 29.073938327273268 ], [ -82.817867817478174, 29.076515506345061 ], [ -82.799921347513475, 29.104864476134757 ], [ -82.803510641506406, 29.146958400974007 ], [ -82.828635699456996, 29.158126176951761 ], [ -82.997332517125173, 29.17788454983549 ], [ -83.029636163061625, 29.134072505615052 ], [ -83.054761221012214, 29.130636266852662 ], [ -83.087064866948666, 29.216542235912357 ], [ -83.076296984969844, 29.255199921989217 ], [ -83.126547100871008, 29.282689832088316 ], [ -83.169618628786282, 29.290421369303687 ], [ -83.176797216772158, 29.344542129811295 ], [ -83.201922274722747, 29.394367591865915 ], [ -83.24140450864509, 29.433025277942775 ], [ -83.295243918539185, 29.438179636086353 ], [ -83.313190388503884, 29.475978262472623 ], [ -83.399333444334445, 29.517213127621268 ], [ -83.399333444334445, 29.612568753277529 ], [ -83.413690620306198, 29.67012575254752 ], [ -83.456762148221486, 29.676139170381695 ], [ -83.492655088150883, 29.70878343862438 ], [ -83.539315910059102, 29.723387453364531 ], [ -83.585976731967321, 29.775790094490937 ], [ -83.585976731967321, 29.811870601496011 ], [ -83.618280377903773, 29.841937690666903 ], [ -83.636226847868471, 29.885749734887341 ], [ -83.686476963769636, 29.92354836127361 ], [ -83.78697719557195, 29.976810062090614 ], [ -83.930548955289552, 30.038662359813593 ], [ -84.02387059910599, 30.103091836608364 ], [ -84.063352833028333, 30.101373717227169 ], [ -84.156674476844771, 30.073024747437472 ], [ -84.267942590625907, 30.097937478464779 ], [ -84.271531884618838, 30.067870389293887 ], [ -84.364853528435276, 30.008595270642701 ], [ -84.332549882498824, 29.92354836127361 ], [ -84.343317764477646, 29.899494689936894 ], [ -84.379210704407043, 29.893481272102719 ], [ -84.433050114301139, 29.906367167461667 ], [ -84.450996584265837, 29.928702719417188 ], [ -84.537139640096399, 29.909803406224057 ], [ -84.648407753877535, 29.847092048810481 ], [ -84.88171186341863, 29.733696169651694 ], [ -84.903247627376274, 29.735414289032882 ], [ -84.878122569425685, 29.773212915419151 ], [ -84.914015509355096, 29.783521631706314 ], [ -84.939140567305671, 29.750018303773032 ], [ -84.992979977199766, 29.714796856458563 ], [ -85.122194560945601, 29.715655916149153 ], [ -85.075533739037382, 29.67356199130991 ], [ -85.068355151051506, 29.640917723067226 ], [ -85.010926447164465, 29.622018409874094 ], [ -84.903247627376274, 29.667548573475727 ], [ -84.799158101581014, 29.701910961099607 ], [ -84.702247163771631, 29.774071975109749 ], [ -84.691479281792809, 29.762904199131988 ], [ -84.77762233762337, 29.692461304503041 ], [ -84.878122569425685, 29.655521737807376 ], [ -85.003747859178588, 29.598823798227976 ], [ -85.046819387093862, 29.586796962559617 ], [ -85.082712327023273, 29.615145932349321 ], [ -85.1401410309103, 29.634045245542453 ], [ -85.22269479274793, 29.677857289762891 ], [ -85.290891378613779, 29.683870707597073 ], [ -85.351909376493765, 29.659817036260357 ], [ -85.398570198401984, 29.740568647176467 ], [ -85.416516668366683, 29.8427967503575 ], [ -85.387802316423162, 29.878877257362568 ], [ -85.387802316423162, 29.788675989849892 ], [ -85.366266552465518, 29.710501558005575 ], [ -85.341141494514943, 29.691602244812444 ], [ -85.305248554585546, 29.725105572745726 ], [ -85.301659260592601, 29.808434362733621 ], [ -85.362677258472587, 29.898635630246297 ], [ -85.427284550345504, 29.950179211682112 ], [ -85.488302548225477, 29.961346987659873 ], [ -85.542141958119572, 29.995709375283745 ], [ -85.599570662006613, 30.056702613316126 ], [ -85.696481599815996, 30.097078418774181 ], [ -85.775446067660667, 30.156353537425368 ], [ -85.922607121371215, 30.237964208032075 ], [ -86.091303939039392, 30.303252744517437 ], [ -86.299482990629897, 30.36338692285922 ], [ -86.410751104411034, 30.380568116671164 ], [ -86.633287331973321, 30.396031191101905 ], [ -86.751734033740334, 30.391735892648924 ], [ -86.920430851408511, 30.370259400384001 ], [ -87.153734960949606, 30.328165475544751 ], [ -87.268592368723688, 30.315279580185795 ], [ -87.293717426674263, 30.323870177091763 ], [ -87.519842948229481, 30.280058132871325 ], [ -87.466003538335386, 30.302393684826846 ], [ -87.491128596285961, 30.323011117401165 ], [ -87.458824950349495, 30.335897012760121 ], [ -87.430110598405975, 30.406339907389068 ], [ -87.365503306533057, 30.43640699655996 ], [ -87.437289186391865, 30.480219040780405 ], [ -87.448057068370687, 30.527467323763233 ], [ -87.394217658476578, 30.615091412204116 ], [ -87.404985540455399, 30.674366530855302 ], [ -87.534200124201234, 30.743091306103054 ], [ -87.544968006180056, 30.778312753417531 ], [ -87.627521768017672, 30.846178468974685 ], [ -87.634700356003563, 30.865936841858414 ], [ -87.588039534095344, 30.964728706277057 ], [ -87.598807416074152, 30.997372974519742 ], [ -87.002984613246127, 30.999091093900937 ], [ -86.518429924199239, 30.993077676066754 ], [ -85.893892769427694, 30.993077676066754 ], [ -85.499070430204299, 30.996513914829144 ], [ -85.24423055670556, 31.000809213282125 ], [ -85.003747859178588, 31.000809213282125 ] ] ] ] } }

			const width = 1200
			const height = 762

			const map = d3.select('#florida')
			.attr('viewBox',`0 0 ${width} ${height}`)

			const path = d3.geoPath()

			const projection = d3.geoAlbers()

			projection.fitSize([width,height],{'type':'FeatureCollection','features':[florida]})

			map.append('g')
			.selectAll('path')
			.data([florida])
			.enter()
			.append('path')
			.attr('d',d3.geoPath().projection(projection))
			.style('fill','#0f0f0f')

			const floridaCentroid = projection(path.centroid(florida))

			const centroidMarker = map
						.append('g')
						.attr('id','center')

			centroidMarker
			.append('circle')
			.attr('cx',floridaCentroid[0])
			.attr('cy',floridaCentroid[1])
			.attr('r',20)
			.style('fill','#ea2525')

			centroidMarker
			.append('text')
			.attr('x',floridaCentroid[0])
			.attr('y',floridaCentroid[1] + 5)
			.attr('text-anchor','middle')
			.style('stroke','#ffffff')
			.style('fill','#ffffff')
			.text('centroid')

		</script>

		<p>However as you can see even this approximation isn't that innacurrate, so without further ado let's visualize the globe using only centroids: </p>

		<svg id="map"></svg>
		<script type="module">
			const width = 1200
			const height = 762

			let scale = 0.03

			const slider = document.querySelector('#slider')

			slider.addEventListener('input',(e) => {
				scale = e.target.value * 0.0001
			})

			const svg = d3.select('#map')
			.attr('viewBox',`0 0 ${width} ${height}`)

			const path = d3.geoPath()

			const projection = d3.geoMercator()
			
			var data = await d3.json('./world.geojson')
			
			const markers = svg
					.append('g')
					.attr('id','markers')

			markers
			.selectAll('circle')
			.data(data.features)
			.enter()
			.append('circle')
			.attr('transform', (d) => {
				let centroid = projection(path.centroid(d))
				return `translate(${centroid[0]},${centroid[1]})`
			})
			.attr('r',(d) => { 
				return path.area(d) * scale})
			.attr('fill','#ff0000')
			.on('click',(e,d) => {
				d3.select('#country-text')
				.text(`Country: ${d.properties.name}`)

				d3.select('#area-text')
				.text(`Area: ${d.properties.area} sq. km`)
			})


			const legend = svg
					.append('g')
					.attr('id','legend')

			legend.append('rect')
			.attr('x',0)
			.attr('y',height - 200)
			.attr('width',372)
			.attr('height', 209)
			.style('fill','#ffffff')

			legend.append('text')
			.attr('x',25)
			.attr('y',height - 150)
			.attr('id','country-text')
			.text('Click a bubble to see the respective country data')

			legend.append('text')
			.attr('x',25)
			.attr('y',height - 125)
			.attr('id','area-text')
			.text(' ')

			function draw(timestamp){
				markers
				.selectAll('circle')
				.attr('r',(d) => {
					return path.area(d) * scale
				})
				
				requestAnimationFrame(draw)
			}

			requestAnimationFrame(draw)

		</script>
		<p> you can change the scale of the visual using this slider: </p>
		<input type="range" id="slider" min="0" max="1000" value="300"></input>
		<p>Hope you enjoyed today's visual as much as I enjoyed making it, see you tomorrow!</p>
		</div>
	</div>
  </body>
  <script type="module" src="/script.js"></script>
</html>
